(function(t,e){if(typeof define==="function"&&define.amd){define([],e())}else if(typeof module==="object"&&module.exports){module.exports=e()}else{(function n(){if(document&&document.body){t.zenscroll=e()}else{setTimeout(n,9)}})()}})(this,function(){"use strict";var t=function(t){return"getComputedStyle"in window&&window.getComputedStyle(t)["scroll-behavior"]==="smooth"};if(typeof window==="undefined"||!("document"in window)){return{}}var e=function(e,n,o){n=n||999;if(!o&&o!==0){o=9}var r;var a=function(t){r=t};var f=function(){clearTimeout(r);a(0)};var u=function(t){return Math.max(0,e.getTopOf(t)-o)};var c=function(o,i,r){f();if(i===0||i&&i<0||t(e.body)){e.toY(o);if(r){r()}}else{var u=e.getY();var c=Math.max(0,o)-u;var l=(new Date).getTime();i=i||Math.min(Math.abs(c),n);(function t(){a(setTimeout(function(){var n=Math.min(1,((new Date).getTime()-l)/i);var o=Math.max(0,Math.floor(u+c*(n<.5?2*n*n:n*(4-n*2)-1)));e.toY(o);if(n<1&&e.getHeight()+o<e.body.scrollHeight){t()}else{setTimeout(f,99);if(r){r()}}},9))})()}};var l=function(t,e,n){c(u(t),e,function(){if(n){n()}i.target=null})};var s=function(t,n,r){var a=t.getBoundingClientRect().height;var f=e.getTopOf(t)+a;var s=e.getHeight();var d=e.getY();var g=d+s;i.target=t;if(u(t)<d||a+o>s){l(t,n,r)}else if(f+o>g){c(f-s+o,n,r)}else if(r){r()}};var d=function(t,n,o,i){c(Math.max(0,e.getTopOf(t)-e.getHeight()/2+(o||t.getBoundingClientRect().height/2)),n,i)};var g={};var h=function(t){if(!t){t={}}for(var e in t){if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e];if(n===0||n===false||n){g[e]=n}}}return g};return{setup:h,to:l,toY:c,intoView:s,center:d,stop:f,moving:function(){return!!r},getY:e.getY,getTopOf:e.getTopOf,target:null}};var n=document.documentElement;var o=function(){return window.scrollY||n.scrollTop};var i=e({body:document.scrollingElement||document.body,toY:function(t){window.scrollTo(0,t)},getY:o,getHeight:function(){return window.innerHeight||n.clientHeight},getTopOf:function(t){return t.getBoundingClientRect().top+o()-n.offsetTop}});i.createScroller=function(t,o,i){return e({body:t,toY:function(e){t.scrollTop=e},getY:function(){return t.scrollTop},getHeight:function(){return Math.min(t.clientHeight,window.innerHeight||n.clientHeight)},getTopOf:function(t){return t.offsetTop}},o,i)};if("addEventListener"in window&&!window.noZensmooth&&!t(document.body)){var r="scrollRestoration"in history;if(r){history.scrollRestoration="auto"}window.addEventListener("load",function(){if(r){setTimeout(function(){history.scrollRestoration="manual"},9);window.addEventListener("popstate",function(t){if(t.state&&"zenscrollY"in t.state){i.toY(t.state.zenscrollY)}},false)}if(window.location.hash){setTimeout(function(){var t=i.setup().edgeOffset;if(t){var e=document.getElementById(window.location.href.split("#")[1]);if(e){var n=Math.max(0,i.getTopOf(e)-t);var o=i.getY()-n;if(0<=o&&o<9){window.scrollTo(0,n)}}}},9)}},false);var a=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(t){var e=t.target;while(e&&e.tagName!=="A"){e=e.parentNode}if(!e||t.which!==1||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey){return}if(r){try{history.replaceState({zenscrollY:i.getY()},"")}catch(t){}}var n=e.getAttribute("href")||"";if(n.indexOf("#")===0&&!a.test(e.className)){var o=0;var f=document.getElementById(n.substring(1));if(n!=="#"){if(!f){return}o=i.getTopOf(f)}t.preventDefault();var u=function(){window.location=n};var c=i.setup().edgeOffset;if(c){o=Math.max(0,o-c);u=function(){history.pushState(null,"",n)}}if(i.setup().noLocation){u=function(){}}i.target=f;i.toY(o,null,u)}},false)}return i});
